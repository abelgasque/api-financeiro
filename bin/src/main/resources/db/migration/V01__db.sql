CREATE TABLE CATEGORIA(
	ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
    NOME VARCHAR(40) NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE PESSOA(
	ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(50) NOT NULL,
	CPF VARCHAR(20) NOT NULL,
	LOGRADOURO VARCHAR(30),
	NUMERO VARCHAR(30),
	COMPLEMENTO VARCHAR(30),
	BAIRRO VARCHAR(30),
	CEP VARCHAR(30),
	CIDADE VARCHAR(30),
	UF VARCHAR(30),
	SITUACAO VARCHAR(15) NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE CONTATO(
	ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(50) NOT NULL,
	EMAIL VARCHAR(100) NOT NULL,
	TELEFONE VARCHAR(20) NOT NULL,
	ID_PESSOA BIGINT(20) NOT NULL,
	CONSTRAINT FK_PESSOA_CONTATO FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE LANCAMENTO(
	ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
	DESCRICAO VARCHAR(50) NOT NULL,
	DATA_VENCIMENTO DATE NOT NULL,
	DATA_PAGAMENTO DATE,
	VALOR DECIMAL(10,2) NOT NULL,
	OBSERVACAO VARCHAR(100),
	TIPO VARCHAR(20) NOT NULL,
	ANEXO VARCHAR(200),
	ID_CATEGORIA BIGINT(20) NOT NULL,
	ID_PESSOA BIGINT(20) NOT NULL,
	CONSTRAINT FK_CATEGORIA_LANCAMENTO FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA(ID),
	CONSTRAINT FK_PESSOA_LANCAMENTO FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE USUARIO (
	ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(50) NOT NULL,
	EMAIL VARCHAR(50) NOT NULL,
	SENHA VARCHAR(150) NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE PERMISSAO (
	ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
	DESCRICAO VARCHAR(50) NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE USUARIO_PERMISSAO (
	ID_USUARIO BIGINT(20) NOT NULL,
	ID_PERMISSAO BIGINT(20) NOT NULL,
	CONSTRAINT FK_USUARIO FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID),
	CONSTRAINT FK_PERMISSAO FOREIGN KEY (ID_PERMISSAO) REFERENCES PERMISSAO(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO CATEGORIA(NOME) VALUES('Lazer');
INSERT INTO CATEGORIA(NOME) VALUES('Alimentação');
INSERT INTO CATEGORIA(NOME) VALUES('Supermercado');
INSERT INTO CATEGORIA(NOME) VALUES('Farmácia');
INSERT INTO CATEGORIA(NOME) VALUES('Outros');

INSERT INTO PESSOA(NOME,CPF,LOGRADOURO,NUMERO,COMPLEMENTO,BAIRRO,CEP,CIDADE,UF,SITUACAO) 
VALUES('Abel Gasque','119.331.109-88',NULL,NULL,NULL,NULL,NULL,NULL,NULL,'ATIVO');

INSERT INTO CONTATO(NOME, EMAIL, TELEFONE,ID_PESSOA) VALUES('Abel Gasque L. Silva', 'abelgasque20@gmail.com', '(48) 99999-9999',1);

INSERT INTO LANCAMENTO(DESCRICAO,DATA_VENCIMENTO,VALOR,TIPO,ID_CATEGORIA,ID_PESSOA) 
VALUES('Crédito salário', '2020-07-07', 1047.98, 'RECEITA', 5, 1);

INSERT INTO LANCAMENTO(DESCRICAO,DATA_VENCIMENTO,VALOR,TIPO,ID_CATEGORIA,ID_PESSOA) 
VALUES('Pensão', '2020-07-01', 608.0, 'RECEITA', 5, 1);

INSERT INTO LANCAMENTO(DESCRICAO,DATA_VENCIMENTO,DATA_PAGAMENTO,VALOR,TIPO,ID_CATEGORIA,ID_PESSOA) 
VALUES('Mensalidade Faculdade', '2020-07-10','2020-07-08', 499.99, 'DESPESA', 5, 1);

INSERT INTO LANCAMENTO(DESCRICAO,DATA_VENCIMENTO,DATA_PAGAMENTO,VALOR,TIPO,ID_CATEGORIA,ID_PESSOA) 
VALUES('Cartão Crédito', '2020-07-15','2020-07-08', 150.99, 'DESPESA', 5, 1);

INSERT INTO USUARIO(NOME, EMAIL, SENHA) values('Administrador', 'admin@financeiro.com', '$2a$10$X607ZPhQ4EgGNaYKt3n4SONjIv9zc.VMWdEuhCuba7oLAL5IvcL5.');
INSERT INTO USUARIO(NOME, EMAIL, SENHA) values('Abel', 'abel@financeiro.com', '$2a$10$Zc3w6HyuPOPXamaMhh.PQOXvDnEsadztbfi6/RyZWJDzimE8WQjaq');

INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_CADASTRAR_CATEGORIA');
INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_REMOVER_CATEGORIA');
INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_PESQUISAR_CATEGORIA');

INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_CADASTRAR_PESSOA');
INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_REMOVER_PESSOA');
INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_PESQUISAR_PESSOA');

INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_CADASTRAR_LANCAMENTO');
INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_REMOVER_LANCAMENTO');
INSERT INTO PERMISSAO(DESCRICAO) values('ROLE_PESQUISAR_LANCAMENTO');

INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 1);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 2);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 3);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 4);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 5);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 6);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 7);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 8);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(1, 9);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(2, 7);
INSERT INTO USUARIO_PERMISSAO(ID_USUARIO, ID_PERMISSAO) values(2, 9);

